(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1931],{42712:function(e,t,n){Promise.resolve().then(n.bind(n,59934))},59934:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Y}});var a=n(57437),r=n(2265),s=n(67872),i=n(64707),o=n(44005),c=n(59233),l=n(21770),d=n(19775),u=n(65704),h=n(17283),m=n(34180),p=n(82645),f=n(81544),w=n(55834),x=n(35586),v=n(78125),y=n(63228),b=n(18856),N=n(70878),g=n(92614),j=n(82061),M=n(54605),P=n(12363),k=n(34467),C=n(9769);let T=new j.k(128);async function E(e,t){let{account:n=e.account,chain:a=e.chain,accessList:r,authorizationList:s,blobs:i,data:o,gas:c,gasPrice:l,maxFeePerBlobGas:h,maxFeePerGas:m,maxPriorityFeePerGas:j,nonce:E,value:R,...I}=t;if(void 0===n)throw new u.o({docsPath:"/docs/actions/wallet/sendTransaction"});let $=n?(0,d.T)(n):null;try{(0,M.F)(t);let n=await (async()=>t.to?t.to:null!==t.to&&s&&s.length>0?await (0,w.z)({authorization:s[0]}).catch(()=>{throw new f.G("`to` is required. Could not infer from `authorizationList`.")}):void 0)();if($?.type==="json-rpc"||null===$){let t;null!==a&&(t=await (0,p.s)(e,P.L,"getChainId")({}),function({chain:e,currentChainId:t}){if(!e)throw new x.Bk;if(t!==e.id)throw new x.Yl({chain:e,currentChainId:t})}({currentChainId:t,chain:a}));let d=e.chain?.formatters?.transactionRequest?.format,u=(d||g.tG)({...(0,N.K)(I,{format:d}),accessList:r,authorizationList:s,blobs:i,chainId:t,data:o,from:$?.address,gas:c,gasPrice:l,maxFeePerBlobGas:h,maxFeePerGas:m,maxPriorityFeePerGas:j,nonce:E,to:n,value:R}),f=T.get(e.uid);try{return await e.request({method:f?"wallet_sendTransaction":"eth_sendTransaction",params:[u]},{retryCount:0})}catch(t){if(!1===f)throw t;if("InvalidInputRpcError"===t.name||"InvalidParamsRpcError"===t.name||"MethodNotFoundRpcError"===t.name||"MethodNotSupportedRpcError"===t.name)return await e.request({method:"wallet_sendTransaction",params:[u]},{retryCount:0}).then(t=>(T.set(e.uid,!0),t)).catch(n=>{if("MethodNotFoundRpcError"===n.name||"MethodNotSupportedRpcError"===n.name)throw T.set(e.uid,!1),t;throw n});throw t}}if($?.type==="local"){let t=await (0,p.s)(e,k.ZE,"prepareTransactionRequest")({account:$,accessList:r,authorizationList:s,blobs:i,chain:a,data:o,gas:c,gasPrice:l,maxFeePerBlobGas:h,maxFeePerGas:m,maxPriorityFeePerGas:j,nonce:E,nonceManager:$.nonceManager,parameters:[...k.QZ,"sidecars"],value:R,...I,to:n}),d=a?.serializers?.transaction,u=await $.signTransaction(t,{serializer:d});return await (0,p.s)(e,C.p,"sendRawTransaction")({serializedTransaction:u})}if($?.type==="smart")throw new u.Y({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"});throw new u.Y({docsPath:"/docs/actions/wallet/sendTransaction",type:$?.type})}catch(e){if(e instanceof u.Y)throw e;throw function(e,{docsPath:t,...n}){let a=(()=>{let t=(0,b.k)(e,n);return t instanceof v.cj?e:t})();return new y.mk(a,{docsPath:t,...n})}(e,{...t,account:$,chain:t.chain||void 0})}}async function R(e,t){let{abi:n,account:a=e.account,address:r,args:s,dataSuffix:i,functionName:o,...c}=t;if(void 0===a)throw new u.o({docsPath:"/docs/contract/writeContract"});let l=a?(0,d.T)(a):null,f=(0,h.R)({abi:n,args:s,functionName:o});try{return await (0,p.s)(e,E,"sendTransaction")({data:`${f}${i?i.replace("0x",""):""}`,to:r,account:l,...c})}catch(e){throw(0,m.S)(e,{abi:n,address:r,args:s,docsPath:"/docs/contract/writeContract",functionName:o,sender:l?.address})}}var I=n(44199),$=n(18849);async function F(e,t){let n;let{account:a,chainId:r,connector:s,...i}=t;n="object"==typeof a&&a?.type==="local"?e.getClient({chainId:r}):await (0,$.e)(e,{account:a??void 0,chainId:r,connector:s});let o=(0,I.s)(n,R,"writeContract");return await o({...i,...a?{account:a}:{},chain:r?{id:r}:null})}var _=n(12364),S=n(72932),q=n(67348),B=n(39277),G=n(40183);async function O(e,t){let{chainId:n,timeout:a=0,...r}=t,s=e.getClient({chainId:n}),i=(0,I.s)(s,q.e,"waitForTransactionReceipt"),o=await i({...r,timeout:a});if("reverted"===o.status){let e=(0,I.s)(s,B.f,"getTransaction"),t=await e({hash:o.transactionHash}),n=(0,I.s)(s,G.R,"call"),a=await n({...t,data:t.input,gasPrice:"eip1559"!==t.type?t.gasPrice:void 0,maxFeePerGas:"eip1559"===t.type?t.maxFeePerGas:void 0,maxPriorityFeePerGas:"eip1559"===t.type?t.maxPriorityFeePerGas:void 0});throw Error(a?.data?(0,S.rR)(`0x${a.data.substring(138)}`):"unknown reason")}return{...o,chainId:s.chain.id}}var z=n(27534),A=n(24432),L=n(4567),Z=n(98173);class W extends f.G{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}var D=n(3105);function Y(){let[e,t]=(0,r.useState)(""),[n,d]=(0,r.useState)("0"),[u,h]=(0,r.useState)(!1),{address:m,isConnected:p}=(0,i.m)(),f=(0,o.x)(),{switchChain:w}=(0,c.o)(),{writeContract:x,data:v}=function(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{mutation:n}=t,a=(e=(0,_.Z)(t),{mutationFn:t=>F(e,t),mutationKey:["writeContract"]}),{mutate:r,mutateAsync:s,...i}=(0,l.D)({...n,...a});return{...i,writeContract:r,writeContractAsync:s}}(),{isLoading:y,isSuccess:b}=function(){var e,t;let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{hash:a,query:r={}}=n,s=(0,_.Z)(n),i=(0,o.x)({config:s}),c=function(e,t={}){return{async queryFn({queryKey:n}){let{hash:a,...r}=n[1];if(!a)throw Error("hash is required");return O(e,{...r,onReplaced:t.onReplaced,hash:a})},queryKey:function(e={}){let{onReplaced:t,...n}=e;return["waitForTransactionReceipt",(0,z.OP)(n)]}(t)}}(s,{...n,chainId:null!==(e=n.chainId)&&void 0!==e?e:i}),l=!!(a&&(null===(t=r.enabled)||void 0===t||t));return(0,A.aM)({...r,...c,enabled:l})}({hash:v}),N=(0,r.useMemo)(()=>Array.from({length:1e3}).map((e,t)=>{let n=Math.floor(5*Math.random()),a=Math.random()*Math.PI*2,r=200+150*n+200*Math.random(),s=Math.PI/8*Math.floor(16*Math.random()),i=1500+1e3*Math.random(),o=Math.cos(a)*r,c=Math.sin(a)*r;return{"--start-x":"".concat(o,"px"),"--start-y":"".concat(c,"px"),"--end-x":"".concat(o+Math.cos(s)*i,"px"),"--end-y":"".concat(c+Math.sin(s)*i,"px"),"--scale":.4+.15*n+.2*Math.random(),"--opacity":.2+.15*n,"--duration":"".concat(40+30*Math.random(),"s"),"--delay":"".concat(-60*Math.random(),"s")}}),[]),g=async()=>{if(e&&m)try{x({address:D.aZ,abi:D.Vb,functionName:"buyTokens",value:function(e,t="wei"){return function(e,t){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(e))throw new W({value:e});let[n,a="0"]=e.split("."),r=n.startsWith("-");if(r&&(n=n.slice(1)),a=a.replace(/(0+)$/,""),0===t)1===Math.round(Number(`.${a}`))&&(n=`${BigInt(n)+1n}`),a="";else if(a.length>t){let[e,r,s]=[a.slice(0,t-1),a.slice(t-1,t),a.slice(t)],i=Math.round(Number(`${r}.${s}`));(a=i>9?`${BigInt(e)+BigInt(1)}0`.padStart(e.length+1,"0"):`${e}${i}`).length>t&&(a=a.slice(1),n=`${BigInt(n)+1n}`),a=a.slice(0,t)}else a=a.padEnd(t,"0");return BigInt(`${r?"-":""}${n}${a}`)}(e,Z.ez[t])}(e),chain:L.v,account:m})}catch(e){console.error("Error buying tokens:",e)}};return(0,a.jsxs)("main",{className:"min-h-screen p-4",children:[(0,a.jsx)("div",{className:"flex justify-end mb-4",children:(0,a.jsx)(s.NL.Custom,{children:e=>{let{account:t,chain:n,openAccountModal:r,openChainModal:s,openConnectModal:i,mounted:o}=e;return o?(0,a.jsx)("button",{onClick:t?(null==n?void 0:n.unsupported)?s:r:i,className:"uni-button",style:{maxWidth:"200px"},children:t?(null==n?void 0:n.unsupported)?"Wrong Network":"".concat(t.address.slice(0,6),"...").concat(t.address.slice(-4)):"Connect Wallet"}):null}})}),(0,a.jsxs)("div",{className:"uni-container",children:[(0,a.jsxs)("div",{className:"uni-header",children:[(0,a.jsx)("button",{className:"uni-menu-button","aria-label":"Menu",onClick:()=>h(!u)}),(0,a.jsx)("div",{className:"uni-header-title",children:"Pearl Exchange"}),(0,a.jsx)("div",{style:{width:24}})]}),u&&(0,a.jsxs)("div",{className:"uni-menu",children:[(0,a.jsx)("a",{href:"https://discord.gg/hH5a8hmXhm",target:"_blank",rel:"noopener noreferrer",className:"uni-menu-item",children:"Discord"}),(0,a.jsx)("a",{href:"https://matcha.xyz/tokens/optimism/0xf7e818dde218f141fd6f5a49afba51804323c318",target:"_blank",rel:"noopener noreferrer",className:"uni-menu-item",children:"Trade"}),(0,a.jsx)("a",{href:"https://docs.seashell.network/pearl/",target:"_blank",rel:"noopener noreferrer",className:"uni-menu-item",children:"Learn More"})]}),(0,a.jsxs)("div",{className:"uni-box",children:[(0,a.jsx)("h1",{className:"uni-title",children:"Get Pearl Tokens"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"uni-input-box",children:[(0,a.jsx)("label",{className:"uni-label",children:"ETH Amount"}),(0,a.jsx)("input",{type:"number",value:e,onChange:e=>{let n=e.target.value;t(n);let a=1e5*parseFloat(n);d(isNaN(a)?"0":a.toString())},placeholder:"0.0",className:"uni-input",step:"0.01",min:"0"})]}),(0,a.jsxs)("div",{className:"uni-input-box receive",children:[(0,a.jsx)("div",{className:"pearl-container",children:N.map((e,t)=>(0,a.jsx)("div",{className:"pearl",style:{...e,"--index":t}},t))}),(0,a.jsx)("label",{className:"uni-label",children:"Pearl Amount"}),(0,a.jsx)("input",{type:"number",value:n,readOnly:!0,className:"uni-input"})]})]}),(0,a.jsx)("button",{onClick:g,disabled:!p||f!==L.v.id,className:"uni-button mt-6",children:p?f!==L.v.id?"Switch to Optimism":"Buy Pearls":"Connect Wallet"}),v&&(0,a.jsxs)("div",{className:"text-center mt-4 text-sm text-[--text-secondary]",children:["Transaction sent! View on"," ",(0,a.jsx)("a",{href:"https://optimistic.etherscan.io/tx/".concat(v),target:"_blank",rel:"noopener noreferrer",className:"text-[--accent] hover:underline",children:"Etherscan"})]})]})]}),(0,a.jsx)("div",{className:"disclaimer",children:"PEARL is purely experimental, solely used for interacting in games, and projects. Using Pearl or Seashell does not represent monetary value or investment"})]})}},3105:function(e,t,n){"use strict";n.d(t,{Vb:function(){return o},aZ:function(){return i},vc:function(){return c}});var a=n(67872),r=n(4567),s=n(79516);let i="0xd07B15f123EF836d804a48d3Cfc7e87be4260D2f",o=[{inputs:[],name:"buyTokens",outputs:[],stateMutability:"payable",type:"function"}],c=(0,a.vX)({appName:"Pearl Token Sale",projectId:"fe72ee0ba52897d7e7823d9f412e3191",chains:[r.v],ssr:!0,transports:{[r.v.id]:(0,s.d)()}})}},function(e){e.O(0,[9472,779,2971,2117,1744],function(){return e(e.s=42712)}),_N_E=e.O()}]);